<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyTime</title>
    
    <!-- Tailwind CSS y Fuentes -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Roboto+Mono:wght@400;700&family=Bitcount+Prop+Single:wght@400;600&display=swap" rel="stylesheet">
    
    <!-- Hoja de estilos actualizada -->
    <link rel="stylesheet" href="mytime.css">
</head>
<body>
    <!-- Contenedor para el fondo de pantalla y efectos -->
    <div id="background-container">
        <div id="wallpaper-container"></div>
        <div id="dots-overlay"></div>
    </div>

    <!-- Interfaz Principal de la App -->
    <div id="main-app-ui" class="w-full h-full">
        <!-- Contenedor de Vistas -->
        <main id="app-container" class="w-full h-full">
            <!-- Vista: Dashboard -->
            <section id="dashboard-view" data-nav-name="Inicio" class="view active">
                <div class="view-content">
                    <div class="card">
                        <div class="flex justify-between items-start">
                            <div>
                                <h1 id="greeting-text" class="font-heading text-2xl md:text-4xl"></h1>
                                <p id="dashboard-summary" class="text-secondary text-base md:text-lg mt-1"></p>
                            </div>
                            <div id="streak-container" class="text-center flex-shrink-0 ml-4">
                                <span class="text-3xl md:text-4xl">🔥</span>
                                <p id="streak-text" class="font-bold text-base md:text-lg">0 días</p>
                            </div>
                        </div>
                        <p id="motivational-quote" class="mt-4 italic text-secondary text-sm md:text-base"></p>
                        <div class="mt-6 flex flex-wrap gap-4">
                            <button id="dashboard-zen-btn" class="btn btn-primary flex items-center justify-center gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8 3.87v16.26M16 3.87v16.26M3.87 8h16.26M3.87 16h16.26M12 2v20"></path></svg>
                                Iniciar Sesión Zen
                            </button>
                             <a href="index.html" class="btn flex items-center justify-center gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 12H6M12 5l-7 7 7 7"/></svg>
                                Volver a MySoul
                            </a>
                        </div>
                    </div>
                    <div id="focus-card-section" class="card"><h2 class="font-heading text-xl md:text-2xl title-line">Enfoque Principal</h2><div id="focus-card-container" class="mt-4"></div></div>
                    <div id="todays-schedule-section" class="card"><h2 class="font-heading text-xl md:text-2xl title-line">Clases de Hoy</h2><div id="todays-schedule-container" class="space-y-3 mt-4"></div></div>
                </div>
            </section>

            <!-- Vista: Tareas -->
            <section id="tasks-view" data-nav-name="Tareas" class="view">
                <div class="view-content h-full flex flex-col lg:flex-row gap-4">
                    <div id="pending-tasks-section" class="card flex flex-col flex-1 min-h-0"><div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-4 gap-4 flex-shrink-0"><h2 class="font-heading text-xl md:text-2xl title-line">Próximas Tareas</h2><div id="task-filters" class="flex items-center gap-2 flex-wrap"></div></div><div id="pending-tasks-container" class="space-y-3 flex-grow overflow-y-auto custom-scrollbar"></div></div>
                    <div id="completed-tasks-section" class="card flex flex-col flex-1 min-h-0"><div class="flex justify-between items-center mb-4 flex-shrink-0"><h2 class="font-heading text-xl md:text-2xl title-line">Tareas Completadas</h2><button id="delete-completed-btn" class="btn btn-danger text-xs">Limpiar</button></div><div id="completed-tasks-container" class="space-y-3 mt-4 flex-grow overflow-y-auto custom-scrollbar"></div></div>
                </div>
            </section>

            <!-- Vista: Horario -->
            <section id="schedule-view" data-nav-name="Horario" class="view">
                <div class="view-content">
                    <div class="card w-full">
                        <div id="schedule-display">
                            <header class="flex justify-between items-center mb-8"><h1 class="font-heading text-2xl md:text-4xl title-line">Horario</h1><button id="add-subject-btn" class="btn btn-primary flex items-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>Añadir</button></header>
                            <div id="schedule-list-container" class="space-y-8"></div>
                        </div>
                        <div id="subject-form-container" style="display: none;">
                            <header class="flex justify-between items-center mb-6"><h1 id="subject-form-title" class="font-heading text-2xl md:text-4xl title-line"></h1><button id="cancel-subject-form-btn" class="btn">Cancelar</button></header>
                            <form id="subject-form" class="space-y-6"><input type="hidden" id="subject-id-input"><div><label for="subject-name" class="font-bold block mb-2">Nombre Materia *</label><input type="text" id="subject-name" class="input-field" required></div><div><label for="subject-day" class="font-bold block mb-2">Día *</label><select id="subject-day" class="input-field" required><option value="1">Lunes</option><option value="2">Martes</option><option value="3">Miércoles</option><option value="4">Jueves</option><option value="5">Viernes</option><option value="6">Sábado</option><option value="0">Domingo</option></select></div><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label for="subject-start-time" class="font-bold block mb-2">Hora Inicio *</label><input type="time" id="subject-start-time" class="input-field" required></div><div><label for="subject-end-time" class="font-bold block mb-2">Hora Fin *</label><input type="time" id="subject-end-time" class="input-field" required></div></div><button type="submit" id="save-subject-btn" class="w-full btn btn-primary text-xl"></button></form>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Vista: Calendario -->
            <section id="calendar-view" data-nav-name="Calendario" class="view">
                <div class="view-content">
                    <div class="card w-full">
                        <header class="flex justify-between items-center mb-6"><h1 id="calendar-title" class="font-heading text-2xl md:text-3xl title-line"></h1><div class="flex items-center gap-2"><button id="calendar-prev-month-btn" class="btn btn-icon">&lt;</button><button id="calendar-next-month-btn" class="btn btn-icon">&gt;</button></div></header>
                        <div id="calendar-grid" class="mb-4"></div>
                        <div id="calendar-tasks-list"><h3 class="font-heading text-xl title-line">Tareas del día:</h3><div id="calendar-tasks-container" class="space-y-2 mt-4"><p class="text-secondary">Selecciona un día para ver las tareas.</p></div></div>
                    </div>
                </div>
            </section>
            
            <!-- Vista: Ajustes -->
            <section id="settings-view" data-nav-name="Ajustes" class="view">
                <div class="view-content">
                    <h1 class="font-heading text-4xl md:text-5xl mb-8 title-line">Configuración</h1>
                    <div class="card">
                        <div class="flex items-center gap-3 mb-4">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0L12 2.69z"></path></svg>
                            <h2 class="font-heading text-2xl">Apariencia</h2>
                        </div>
                        <div class="space-y-6">
                            <div>
                                <label for="color-picker" class="font-bold block mb-2">Color de Acento</label>
                                <input type="color" id="color-picker" class="input-field h-12 p-1">
                            </div>
                            <div>
                                <label for="wallpaper-url-input" class="font-bold block mb-2">Fondo desde URL</label>
                                <div class="flex gap-2">
                                    <input type="text" id="wallpaper-url-input" class="input-field flex-1" placeholder="https://...">
                                    <button id="save-wallpaper-url-btn" class="btn">Guardar</button>
                                </div>
                            </div>
                            <div>
                                <label for="wallpaper-file-input" class="font-bold block mb-2">Fondo desde archivo</label>
                                <input type="file" id="wallpaper-file-input" accept="image/*" class="input-field">
                            </div>
                            <button id="reset-wallpaper-btn" class="w-full md:w-auto btn">Restaurar fondo</button>
                        </div>
                    </div>
                    <div class="card border-danger-color">
                        <div class="flex items-center gap-3 mb-4 text-danger-color">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>
                            <h2 class="font-heading text-2xl">Zona de Peligro</h2>
                        </div>
                        <p class="text-secondary mb-4 text-sm">Esta acción no se puede deshacer. Se borrarán todas tus tareas, horarios y configuraciones permanentemente.</p>
                        <button id="reset-app-btn" class="w-full btn btn-danger font-bold text-lg">Reiniciar Aplicación</button>
                    </div>
                </div>
            </section>
        </main>
        
        <!-- Dock de Navegación Flotante -->
        <nav id="floating-dock">
            <button class="dock-btn active" data-view="dashboard-view" title="Inicio">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
            </button>
            <button class="dock-btn" data-view="tasks-view" title="Tareas">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>
            </button>
            <button id="fab-add-task" class="dock-btn add" title="Añadir Tarea">
                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
            </button>
            <button class="dock-btn" data-view="schedule-view" title="Horario">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
            </button>
            <button class="dock-btn" data-view="calendar-view" title="Calendario">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8 2v4"/><path d="M16 2v4"/><rect width="18" height="18" x="3" y="4" rx="2"/><path d="M3 10h18"/></svg>
            </button>
            <button class="dock-btn" data-view="settings-view" title="Ajustes">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>
            </button>
        </nav>
        
        <!-- Contenedor de Vistas Ocultas (Modales) -->
        <div id="hidden-views-container">
            <section id="details-view" class="view hidden-view">
                <div class="modal-panel w-full max-w-4xl">
                    <header class="flex flex-col sm:flex-row justify-between items-center mb-6 pb-4 border-b border-border-color gap-4">
                        <button id="back-to-dashboard-btn" class="btn w-full sm:w-auto flex items-center justify-center gap-2 flex-shrink-0 whitespace-nowrap">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>Volver
                        </button>
                        <div class="flex w-full sm:w-auto gap-2 flex-nowrap">
                            <button id="start-zen-session-btn" class="btn btn-primary flex-1 flex items-center justify-center gap-2 whitespace-nowrap">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/><path d="M12 6v6l4 2"/></svg>Sesión Zen
                            </button>
                            <button id="edit-task-btn" class="btn flex-1 flex items-center justify-center gap-2 whitespace-nowrap">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg>Editar
                            </button>
                            <button id="delete-task-btn" class="btn btn-danger flex-1 flex items-center justify-center gap-2 whitespace-nowrap">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>
                                Eliminar
                            </button>
                        </div>
                    </header>
                    <div id="task-details-content" class="flex-grow overflow-y-auto custom-scrollbar"></div>
                </div>
            </section>
            
            <!-- FORMULARIO MULTI-PASO -->
            <section id="multi-step-form-view" class="view hidden-view">
                <div class="modal-panel w-full max-w-2xl">
                    <div class="flex-shrink-0">
                        <div id="form-progress-bar" class="flex w-full gap-2 mb-6">
                            <div class="progress-step"></div><div class="progress-step"></div><div class="progress-step"></div><div class="progress-step"></div>
                        </div>
                        <h1 id="form-title" class="font-heading text-3xl md:text-4xl title-line mb-8"></h1>
                    </div>
                    
                    <div class="flex-1 min-h-0 overflow-y-auto custom-scrollbar pr-2">
                        <div id="form-step-1" class="form-step"><label for="task-title" class="font-bold block mb-4 text-xl">¿Cuál es el nombre de la tarea?</label><input type="text" id="task-title" class="input-field text-lg" required></div>
                        <div id="form-step-2" class="form-step"><label for="task-description" class="font-bold block mb-4 text-xl">Añade una descripción</label><textarea id="task-description" rows="5" class="input-field text-lg"></textarea></div>
                        <div id="form-step-3" class="form-step"><h2 class="font-bold block mb-4 text-xl">Detalles adicionales</h2><div class="space-y-6"><div><label for="task-due-date" class="font-bold block mb-2">Fecha Límite</label><input type="datetime-local" id="task-due-date" class="input-field"></div><div><label for="task-priority" class="font-bold block mb-2">Prioridad</label><select id="task-priority" class="input-field"><option value="low">Baja</option><option value="medium" selected>Media</option><option value="high">Alta</option></select></div><div><label for="task-tags" class="font-bold block mb-2">Etiquetas (separadas por coma)</label><input type="text" id="task-tags" class="input-field" placeholder="#universidad, #personal..."></div></div></div>
                        <div id="form-step-4" class="form-step"><h2 class="font-bold block mb-4 text-xl">Divide y vencerás</h2><div id="subtasks-form-list" class="space-y-2 mb-3"></div><button type="button" id="add-subtask-form-btn" class="btn text-sm w-full">+ Añadir subtarea</button></div>
                    </div>

                    <div class="flex-shrink-0"><div class="flex flex-col gap-4 mt-8 pt-4 border-t border-border-color"><div class="flex flex-wrap gap-2"><button id="form-cancel-btn" class="btn flex-grow" style="flex-basis: 120px;">Cancelar</button><button id="form-back-btn" class="btn flex-grow" style="flex-basis: 120px;">Atrás</button><button id="form-skip-btn" class="btn flex-grow" style="flex-basis: 120px;">Omitir</button></div><button id="form-next-btn" class="btn btn-primary w-full text-lg">Siguiente</button></div></div>
                </div>
            </section>

            <section id="grades-view" class="view hidden-view"><div class="modal-panel w-full max-w-4xl"><header class="flex justify-between items-center mb-6 pb-4 border-b border-border-color flex-wrap gap-2"><button id="back-to-schedule-btn" class="btn flex items-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>Volver</button><div class="flex gap-2"><button id="edit-subject-grades-btn" class="btn flex items-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg>Editar Materia</button></div></header><div id="grades-content" class="space-y-8"><div class="text-center"><h1 id="grades-subject-title" class="font-heading text-3xl md:text-5xl mb-2"></h1><p id="grades-average" class="text-2xl font-bold text-secondary"></p></div><div id="grades-list-container" class="space-y-4"></div><button id="add-grade-btn" class="btn btn-primary w-full text-xl"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" class="inline-block mr-2"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>Añadir Calificación</button></div></div></section>
            
            <section id="zen-setup-view" class="view hidden-view"><div class="modal-panel w-full max-w-2xl flex flex-col max-h-[90vh]"><h1 class="font-heading text-3xl md:text-4xl text-center mb-6 title-line flex-shrink-0">Configurar Sesión Zen</h1><div class="flex-grow overflow-y-auto custom-scrollbar pr-2 -mr-2"><div class="flex justify-center mb-8"><div class="flex border border-border-color rounded-lg p-1"><button id="zen-mode-timer-btn" class="btn zen-mode-toggle active">Temporizador</button><button id="zen-mode-stopwatch-btn" class="btn zen-mode-toggle">Cronómetro</button></div></div><form id="zen-timer-form" class="space-y-6"><div><label for="zen-pomodoro-duration" class="font-bold block mb-2 text-sm">Enfoque (min)</label><input type="number" id="zen-pomodoro-duration" class="input-field" min="1" value="25"></div><div><label for="zen-short-break-duration" class="font-bold block mb-2 text-sm">Descanso Corto (min)</label><input type="number" id="zen-short-break-duration" class="input-field" min="1" value="5"></div><div><label for="zen-long-break-duration" class="font-bold block mb-2 text-sm">Descanso Largo (min)</label><input type="number" id="zen-long-break-duration" class="input-field" min="1" value="15"></div></form><div id="zen-stopwatch-content" class="hidden text-center"><p class="text-secondary mb-6">El cronómetro comenzará a contar sin límites de tiempo. La barra de progreso avanzará cada minuto.</p></div></div><div class="flex gap-4 mt-8 flex-shrink-0"><button id="start-zen-btn" class="flex-1 btn btn-primary text-xl">Iniciar</button><button id="cancel-zen-setup-btn" class="flex-1 btn">Cancelar</button></div></div></section>
        </div>
    </div>

    <!-- Vista: Modo Zen -->
    <section id="zen-view" class="view">
        <canvas id="zen-canvas"></canvas>
        <div id="zen-border-progress"><div id="border-top" class="border-segment"></div><div id="border-right" class="border-segment"></div><div id="border-bottom" class="border-segment"></div><div id="border-left" class="border-segment"></div></div>
        <div id="zen-timer-container" class="relative flex flex-col items-center justify-center">
            <svg id="zen-progress-svg" class="absolute inset-0 w-full h-full"><circle id="zen-progress-bg" stroke="rgba(255,255,255,0.1)" stroke-width="2" fill="transparent" /><circle id="zen-progress-ring" stroke="var(--accent-primary)" stroke-width="4" fill="transparent" stroke-linecap="round" /></svg>
            <div class="relative text-center"><h1 id="zen-timer-display" class="text-8xl md:text-9xl">00:00</h1><p id="zen-status-text" class="text-2xl text-secondary tracking-widest">ENFOQUE</p></div>
        </div>
        <div id="zen-controls"><button id="zen-control-main-btn" class="btn btn-icon w-20 h-20 text-2xl"></button></div>
        <button id="exit-zen-btn" class="btn btn-danger btn-icon w-16 h-16"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button>
    </section>
    
    <!-- Modales y Notificaciones -->
    <div id="subtask-modal" class="modal-overlay"><div class="modal-panel w-11/12 max-w-md"><h2 class="font-heading text-2xl mb-4 title-line">Añadir Subtarea</h2><input type="text" id="subtask-input" class="input-field mb-4" placeholder="Descripción..."><div class="flex gap-4"><button id="confirm-add-subtask-btn" class="flex-1 btn btn-primary">Añadir</button><button id="cancel-add-subtask-btn" class="flex-1 btn">Cancelar</button></div></div></div>
    <div id="confirm-zen-log-modal" class="modal-overlay"><div id="confirm-zen-log-content" class="modal-panel w-11/12 max-w-md text-center"></div></div>
    <div id="achievement-toast" class="modal-panel"><div id="achievement-toast-content" class="flex items-center gap-4 text-primary p-4"></div></div>
    <div id="add-grade-modal" class="modal-overlay"><div class="modal-panel w-11/12 max-w-md"><h2 class="font-heading text-2xl mb-4 title-line">Añadir Calificación</h2><form id="add-grade-form" class="space-y-4"><div><label for="grade-name-input" class="font-bold block mb-2">Descripción</label><input type="text" id="grade-name-input" class="input-field" placeholder="Ej: Examen Parcial 1" required></div><div><label for="grade-value-input" class="font-bold block mb-2">Calificación</label><input type="number" id="grade-value-input" class="input-field" placeholder="Ej: 8.5" step="0.1" required></div><div class="flex gap-4 mt-6"><button type="submit" class="flex-1 btn btn-primary">Añadir</button><button type="button" id="cancel-add-grade-btn" class="flex-1 btn">Cancelar</button></div></form></div></div>

    <!-- Script principal -->
    <script type="module" src="mytime.js"></script>
</body>
</html>

